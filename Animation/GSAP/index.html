<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="../../res.css">
    <title>GSAP Tutorial</title>
</head>

<body>

    <section class="pratice">
        <div class="container">
            <div class="circles">
                <div class="circle circle0"></div>
                <div class="circle circle1"></div>
                <div class="circle circle2"></div>
                <div class="circle circle3"></div>
            </div>
            <div class="practice__content">
                <h1>TOYAMA HIDEKI'S <br>GSAP TUTORIAL</h1>
            </div>
            <div class="cursor"></div>
        </div>
    </section>


    <!-- fromToアニメーション実装 -->
    <section class="practice02">
        <div class="p02__container">
            <div class="p02__hero__content">
                <div class="image">
                    <img src="./images/sample.jpg" alt="">
                </div>
                <h1 class="p02__h1">Beautiful</h1>
            </div>
            <div class="slider"></div>
        </div>
    </section>



    <section class="sec01">
        <div class="container">
            <div class="content">
                <h1 class="title">gsap.timeline()</h1>
                <p class="text">時間経過とアニメーションの順番を指定できる</p>
            </div>
        </div>
    </section>


    <section class="sec02">
        <h1>fromToで設定するアニメーション</h1>
        <div class="container">
            <div class="sec02__content"> </div>
            <div class="sec02__content__hover"></div>
        </div>
    </section>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.11.0/gsap.min.js"></script>
    <script src="main.js"></script>
    <script>

        // practice Area
        // マウスの動きに合わせて座標を取得
        document.addEventListener("mousemove", (e) => {
            const mouseX = e.clientX;
            const mouseY = e.clientY;
            //　座標を登録する
            gsap.to(".circle", {
                x: mouseX,
                y: mouseY,
                // プラスとマイナスで動きが反転する
                stagger: -0.05,
            })

            gsap.set(".cursor", {
                x: mouseX,
                y: mouseY,
            })

        })



        // PRACTICE02
        const image = document.querySelector(".image");
        const slider = document.querySelector(".slider");
        const p02H1 = document.querySelector(".p02__h1");
        let tl = gsap.timeline();


        tl.fromTo(image, 1, {
            height: "0%",
            ease: Power4.easeInOut,
        }, {
            height: "40%"
        }).fromTo(image, 0.5, {
            width:"100%"
        }, {
            width: "80%"
        }).fromTo(slider,1,{
            y:"-100%"
        },{
            y:"0"
        },"-=0.5").fromTo(p02H1,1,{
            opacity:0,
            y:10
        },{
            opacity:1,
            y:0,
        },"-=.5")




        // sec01 Area
        // let tl = gsap.timeline();
        tl.to(".content", { backgroundColor: "black", duration: 1 })
            .to(".title", { ease: "power4.inOut", opacity: 1, duration: 1 })
            .to(".text", { ease: "power4.inOut", duration: 1, opacity: 1 })


        // sec02
        const sec02 = document.querySelector(".sec02__content");

        const sec02Hover = document.querySelector(".sec02__content__hover");


        // block クラスのdivタグを５０個生成して containerクラスの子要素として配置する。
        for (let i = 0; i <= 99; i++) {
            const blocks = document.createElement("div");
            blocks.classList.add("block");
            sec02.appendChild(blocks);
        };



        gsap.fromTo(

            ".block",
            {
                duration: 2,
                scale: 0,
                ease: "power1.inOut",
                stagger: {
                    each: 10,
                    // グリット要素の縦横を合わせる
                    grid: [10, 10],
                    // グリットに対して真ん中を指定（上の縦横数があってないときれいにアニメーションしない）
                    from: "center",
                    ease: "power4.in",
                    amount: 0.5,
                }
            }, {
            duration: 2,
            scale: 1,
            ease: "power1.inOut",
            stagger: {
                each: 10,
                grid: [10, 10],
                from: "center",
                ease: "ease-in-out",
                amount: 0.5,
                repeat: -1
            }

        });


        for (let i = 0; i <= 500; i++) {
            const blocks = document.createElement("div");
            blocks.classList.add(`hoverBlock`);
            blocks.classList.add(`hoverBlock${i}`);
            sec02Hover.appendChild(blocks);

            blocks.addEventListener("mouseover", () => {
                gsap.from(`.hoverBlock${i}`, {
                    duration: 2,
                    scale: 1.2,
                    ease: "power4.inOut",
                    backgroundColor: "red",
                }
                    //  ,{
                    //     duration:2,
                    //     scale:0,
                    //     ease:"power4.inOut",
                    //     backgroundColor:"#a6bba6",
                    // }
                )
            });
        }







    </script>
</body>

</html>